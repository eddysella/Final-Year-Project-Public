import React, { Component } from 'react'
import { AsyncStorage, FlatList, ScrollView, StyleSheet, View, StatusBar, ActivityIndicator} from 'react-native';
import { ExpoLinksView } from '@expo/samples';
import { SearchBar, ListItem} from 'react-native-elements';
import Item from './Item';
import * from fetch.fixturesByDate;

export default class FixturesScreen extends Component {

    this.state = {
        isLoading: true,
    }

    getDate(offset=0){
        var dateObj = new Date();
        var month = dateObj.getUTCMonth() + 1; //months from 1-12
        var day = dateObj.getUTCDate();
        var year = dateObj.getUTCFullYear();
        return year + "-" + month + "-" + day
    }

    componentDidMount(){
        fetch.fixturesByDate.get(getDate())
    }

    render() {
        if (this.state.isLoading) {
           return (
             <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>
               <ActivityIndicator />
             </View>
           );
         }
        return (
            <View style={{flex: 1}}>
                <ScrollView>
                    {
                        this.state.allCountries.map((item, index) => (
                            <Item
                                country={`${item.country}`}
                                flag={`${item.flag}`}
                                index={index}
                            />
                      ))
                    }
                </ScrollView>
            </View>
        );
    }
}
